<div id="header-container"></div>    
<link rel="stylesheet" href="https://cubi.games/styles/index.css">
<link rel="icon" type="image/x-icon" href="https://www.cubi.games/favicon.ico">
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("header-container").innerHTML = this.responseText;
            }
        };
        xhttp.open("GET", "https://cubi.games/header.html", true);
        xhttp.send();
    });
</script>

    <main>
        <!-- Front Page Content -->
<!-- Front Page Content -->
  <section class="about-us">
    <h2>About Us</h2>
    <p>Welcome to our website! We are a passionate team dedicated to creating an exciting and innovative Minecraft server network. Unlike other Minecraft networks, we strive for equality. At CubiGames, we believe that neither your proximity to the continental USA nor the version of Minecraft that you play should affect your playing experience. You can learn more about us and our mission at our about page.</p>
  </section>

  <section class="news">
    <ul id="news-list"></ul>
  </section>

    </main>
</body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    loadNewsArticles();
  });

  function loadNewsArticles() {
    const newsList = document.getElementById("news-list");

    // Fetch news articles from the "news-articles" folder
    fetchNewsArticles().then((articles) => {
      // Iterate through the articles and create list items
      articles.forEach((article) => {
        const listItem = document.createElement("li");

        // Extract the id and date from the article content
        const [, id, date] = article.content.split("\n");

        listItem.innerHTML = `
          <h3 id="${id}">${article.title}</h3>
          <div class="news-item">
            <p>${article.content}</p>
            <span class="date">${date}</span>
          </div>
        `;

        newsList.appendChild(listItem);
      });
    });
  }

  async function fetchNewsArticles() {
    const response = await fetch("news-articles-list.json");
    const articlesList = await response.json();

    // Fetch individual articles using the file paths in the list
    const articles = await Promise.all(
      articlesList.map(async (filePath) => {
        const articleResponse = await fetch(filePath);
        const articleContent = await articleResponse.text();

        // Parse the article content from the text file
        const [title, ...content] = articleContent.split("\n");
        return { title, content: content.join("\n") };
      })
    );

    return articles;
  }
</script>

